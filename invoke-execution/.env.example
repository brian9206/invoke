# Invoke Execution Service Environment Configuration

# Database Configuration
DB_HOST=localhost
DB_PORT=5432
DB_NAME=invoke_db
DB_USER=postgres
DB_PASSWORD=your_password_here

# MinIO Configuration
MINIO_ENDPOINT=localhost
MINIO_PORT=9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_USE_SSL=false
MINIO_BUCKET=invoke-packages

# Service Configuration
PORT=3001
NODE_ENV=development
TRUST_PROXY=true

# Cache Configuration
CACHE_DIR=/tmp/invoke-cache
MAX_CACHE_SIZE_GB=10
CACHE_CLEANUP_INTERVAL_MS=3600000

# Security and Rate Limiting
RATE_LIMIT=100
REQUIRE_API_KEY=false
ALLOWED_ORIGINS=*

# Execution Engine Configuration (isolated-vm)
ISOLATE_POOL_SIZE=5                    # Base number of pre-warmed isolates
ISOLATE_MAX_POOL_SIZE=20               # Maximum number of isolates in pool
ISOLATE_MEMORY_LIMIT_MB=128            # Memory limit per isolate (MB)
ISOLATE_IDLE_TIMEOUT_MS=300000         # Time before idle isolates are cleaned up (5 minutes)
FUNCTION_TIMEOUT_MS=30000              # Maximum execution time for functions (30 seconds)
ENABLE_MODULE_CACHE=true               # Enable module-level caching
MODULE_CACHE_MAX_SIZE=1000             # Maximum number of cached modules (LRU eviction)
REDIRECT_OUTPUT=false                  # Redirect console output from isolates to main service logs